{% extends 'admin/shop/list.html' %}

{% block title %}
Order List | Shop
{% endblock %}

{% block shop_title %}
Lista de Pedidos
{% endblock %}

{% block form %}
<form method="GET" class="form-inline">
    <!-- Usuario -->
    <div class="form-group mx-sm-3 mb-2">
        <label for="id_user" class="mr-2">Usuario:</label>
        <input type="text" name="user" id="id_user" class="form-control" placeholder="Usuario">
    </div>

    <!-- Estado -->
    <div class="form-group mx-sm-3 mb-2">
        <label for="id_status" class="mr-2">Estado:</label>
        <select name="status" id="id_status" class="form-control">
            <option value="active" selected>Activa</option>
            <option value="inactive">Inactiva</option>
        </select>
    </div>

    <!-- Fecha de inicio -->
    <div class="form-group mx-sm-3 mb-2">
        <label for="id_start_date" class="mr-2">Fecha de inicio:</label>
        <input type="date" name="start_date" id="id_start_date" class="form-control">
    </div>

    <!-- Fecha de fin -->
    <div class="form-group mx-sm-3 mb-2">
        <label for="id_end_date" class="mr-2">Fecha de fin:</label>
        <input type="date" name="end_date" id="id_end_date" class="form-control">
    </div>

    <button type="submit" class="btn btn-primary mb-2">Filtrar</button>
</form>
{% endblock %}

{% block table %}
<table class="table">
    <thead>
        <tr>
            <th>Usuario</th>
            <th>Número de Pedido</th>
            <th>Total</th>
            <th>Estado</th>
            <th>Fecha de Creación</th>
            <th>Última Edición</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for order in orders %}
        <tr>
            <td>{{ order.user }}</td>
            <td>{{ order.order_number }}</td>
            <td>{{ order.total_price }}</td>
            <td>{{ order.status }}</td>
            <td>{{ order.created_at }}</td>
            <td>{{ order.updated_at }}</td>
            <td>
                <a href="{% url 'edit_order' order.id %}" class="btn btn-primary">Editar</a>
                <a href="{% url 'delete_order' order.id %}" class="btn btn-danger">Eliminar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block scripts %}
{{ block.super }}
<script>
    // Puedes agregar scripts adicionales aquí si es necesario
</script>
{% endblock %}
